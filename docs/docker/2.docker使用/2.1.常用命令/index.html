<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="2.1.常用命令 镜像相关命令 查看镜像 docker images 搜索镜像 docker search centos 镜像拉取 docker pull centos:7 删除镜像 # 按镜像id删除镜像 docker rmi 镜像id(imageId) # 删除所有镜像 docker rmi `docker images -q` 容器相关命令 查看容器 # 查看正在运行的容器 docker ps # 查看所有容器 docker ps -a # 查看最后一次运行的容器 docker ps -l # 查看停止的容器 docker ps -f status=exited 创建与启动容器 创建容器常用的参数说明:
创建容器命令:
docker run  -i: 表示运行容器 -t: 表示容器启动后进入其命令行。加入这个两个参数后, 容器创建就能登录进去。即分配一个伪终端 &ndash;name: 为创建的容器命名 -v: 表示目录映射关系(前者是宿主机目录,后者是映射到宿主机上的目录), 可以使用多个v做多个目录或文件映射.注意: 最好做目录映射,在宿主机上做修改,然后共享到容器上。 -d:在run后面加上-d参数,则会创建一个守护式容器在后台运行(这样创建容器后不会自动登录容器,如果只加-i-t两个参数，创建后就会自动进去容器)。 -p: 表示端口映射,前者是宿主机端口,后者是容器内的映射端口,可以使用多个-p做多个端口映射 更多参数执行: docker run &ndash;help 查看  1.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="2.1.常用命令" />
<meta property="og:description" content="2.1.常用命令 镜像相关命令 查看镜像 docker images 搜索镜像 docker search centos 镜像拉取 docker pull centos:7 删除镜像 # 按镜像id删除镜像 docker rmi 镜像id(imageId) # 删除所有镜像 docker rmi `docker images -q` 容器相关命令 查看容器 # 查看正在运行的容器 docker ps # 查看所有容器 docker ps -a # 查看最后一次运行的容器 docker ps -l # 查看停止的容器 docker ps -f status=exited 创建与启动容器 创建容器常用的参数说明:
创建容器命令:
docker run  -i: 表示运行容器 -t: 表示容器启动后进入其命令行。加入这个两个参数后, 容器创建就能登录进去。即分配一个伪终端 &ndash;name: 为创建的容器命名 -v: 表示目录映射关系(前者是宿主机目录,后者是映射到宿主机上的目录), 可以使用多个v做多个目录或文件映射.注意: 最好做目录映射,在宿主机上做修改,然后共享到容器上。 -d:在run后面加上-d参数,则会创建一个守护式容器在后台运行(这样创建容器后不会自动登录容器,如果只加-i-t两个参数，创建后就会自动进去容器)。 -p: 表示端口映射,前者是宿主机端口,后者是容器内的映射端口,可以使用多个-p做多个端口映射 更多参数执行: docker run &ndash;help 查看  1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ruichengm1987.github.io/docs/docker/2.docker%E4%BD%BF%E7%94%A8/2.1.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" />

<title>2.1.常用命令 | 坚持的事:读书&amp;攒钱</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.6df681b0bb21155cba49f6078e3559216772d8e03e780d240c73ea21817ed5e5.css" integrity="sha256-bfaBsLshFVy6SfYHjjVZIWdy2OA&#43;eA0kDHPqIYF&#43;1eU=">
<script defer src="/en.search.min.06f5e09b7be84971e04d6bae36ae77a2a5ab52017a1baba27017b8355727a122.js" integrity="sha256-BvXgm3voSXHgTWuuNq53oqWrUgF6G6uicBe4NVcnoSI="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>坚持的事:读书&amp;攒钱</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/c&#43;&#43;/" class="collapsed ">C&#43;&#43;</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/docker/" class="collapsed ">docker</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/docker/1.docker%E5%AE%89%E8%A3%85/" class="collapsed ">1.Docker安装</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/docker/2.docker%E4%BD%BF%E7%94%A8/" class="collapsed ">2.Docker使用</a>
  

          
  
  
  

  
  <ul>
    
      
        <li>
          
  
    <a href="/docs/docker/2.docker%E4%BD%BF%E7%94%A8/2.1.%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/" class="active">2.1.常用命令</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/docker/2.docker%E4%BD%BF%E7%94%A8/2.2.%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2%E6%A0%B7%E4%BE%8B/" class="">2.2.应用部署样例</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/docker/2.docker%E4%BD%BF%E7%94%A8/2.3.%E8%BF%81%E7%A7%BB%E4%B8%8E%E5%A4%87%E4%BB%BD/" class="">2.3.迁移与备份</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/docker/2.docker%E4%BD%BF%E7%94%A8/2.4.dockerfile/" class="">2.4.Dockerfile</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/docker/2.docker%E4%BD%BF%E7%94%A8/2.5.docker%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/" class="">2.5.Docker私有仓库</a>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/docker/2.docker%E4%BD%BF%E7%94%A8/2.6.dockermaven%E6%8F%92%E4%BB%B6/" class="">2.6.DockerMaven插件</a>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
  </ul>
  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/english/" class="collapsed ">Englinsh</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/go/" class="collapsed ">Go</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/java/" class="collapsed ">java</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/kafka/" class="collapsed ">kafka</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/mysql/" class="collapsed ">Mysql</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/rust/" class="collapsed ">Rust</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/" class="collapsed ">项目管理</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/python/" class="collapsed ">Python</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/datas_tructure/" class="collapsed ">Datas Tructure</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/chart/" class="collapsed ">Chart</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/git/" class="collapsed ">git</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/linux/" class="collapsed ">Linux</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/nginx/" class="collapsed ">Nginx</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/shell/" class="collapsed ">Shell</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/%E7%AE%97%E6%B3%95/" class="collapsed ">算法</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/%E4%BA%94%E7%AC%94/" class="collapsed ">五笔</a>
  

          
  
  
  

  

        </li>
      
    
      
        <li>
          
  
    <a href="/docs/%E6%9E%B6%E6%9E%84%E5%B8%88/" class="collapsed ">架构师</a>
  

          
  
  
  

  

        </li>
      
    
  </ul>
  















</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>2.1.常用命令</strong>

  <label for="toc-control">
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
  </label>
</div>


  
    <input type="checkbox" class="hidden" id="toc-control" />
    <aside class="hidden clearfix">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#镜像相关命令">镜像相关命令</a>
      <ul>
        <li><a href="#查看镜像">查看镜像</a></li>
        <li><a href="#搜索镜像">搜索镜像</a></li>
        <li><a href="#镜像拉取">镜像拉取</a></li>
        <li><a href="#删除镜像">删除镜像</a></li>
      </ul>
    </li>
    <li><a href="#容器相关命令">容器相关命令</a>
      <ul>
        <li><a href="#查看容器">查看容器</a></li>
        <li><a href="#创建与启动容器">创建与启动容器</a></li>
        <li><a href="#停止容器">停止容器</a></li>
        <li><a href="#启动容器">启动容器</a></li>
        <li><a href="#将文件从宿主机拷贝到docke容器">将文件从宿主机拷贝到docke容器</a></li>
        <li><a href="#将文件从docke容器拷贝到宿主机">将文件从docke容器拷贝到宿主机</a></li>
        <li><a href="#目录挂载">目录挂载</a></li>
        <li><a href="#查看容器ip地址">查看容器ip地址</a></li>
        <li><a href="#删除容器">删除容器</a></li>
      </ul>
    </li>
  </ul>
</nav>


    </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="21常用命令">2.1.常用命令</h1>
<h2 id="镜像相关命令">镜像相关命令</h2>
<h3 id="查看镜像">查看镜像</h3>
<pre><code class="language-aidl" data-lang="aidl">docker images
</code></pre><h3 id="搜索镜像">搜索镜像</h3>
<pre><code class="language-aidl" data-lang="aidl">docker search centos
</code></pre><h3 id="镜像拉取">镜像拉取</h3>
<pre><code class="language-aidl" data-lang="aidl">docker pull centos:7
</code></pre><h3 id="删除镜像">删除镜像</h3>
<pre><code class="language-aidl" data-lang="aidl"># 按镜像id删除镜像
docker rmi 镜像id(imageId)

# 删除所有镜像
docker rmi `docker images -q`
</code></pre><h2 id="容器相关命令">容器相关命令</h2>
<h3 id="查看容器">查看容器</h3>
<pre><code class="language-aidl" data-lang="aidl"># 查看正在运行的容器
docker ps

# 查看所有容器
docker ps -a

# 查看最后一次运行的容器
docker ps -l

# 查看停止的容器
docker ps -f status=exited
</code></pre><h3 id="创建与启动容器">创建与启动容器</h3>
<p>创建容器常用的参数说明:</p>
<p>创建容器命令:</p>
<pre><code class="language-aidl" data-lang="aidl">docker run
</code></pre><ul>
<li>-i: 表示运行容器</li>
<li>-t: 表示容器启动后进入其命令行。加入这个两个参数后, 容器创建就能登录进去。即分配一个伪终端</li>
<li>&ndash;name: 为创建的容器命名</li>
<li>-v: 表示目录映射关系(前者是宿主机目录,后者是映射到宿主机上的目录), 可以使用多个v做多个目录或文件映射.注意:
最好做目录映射,在宿主机上做修改,然后共享到容器上。</li>
<li>-d:在run后面加上-d参数,则会创建一个守护式容器在后台运行(这样创建容器后不会自动登录容器,如果只加-i-t两个参数，创建后就会自动进去容器)。</li>
<li>-p: 表示端口映射,前者是宿主机端口,后者是容器内的映射端口,可以使用多个-p做多个端口映射</li>
<li>更多参数执行: docker run &ndash;help 查看</li>
</ul>
<p>1.交互式方式创建容器</p>
<pre><code class="language-aidl" data-lang="aidl">docker run -it --name=容器名称 镜像名称:标签/bin/bash
</code></pre><p>这时我们通过ps命令查看,发现可以看到启动的容器,状态为启动状态</p>
<p>退出当前容器</p>
<pre><code class="language-aidl" data-lang="aidl">exit
</code></pre><p>2.守护式方式创建容器</p>
<pre><code class="language-aidl" data-lang="aidl">docker run -di --name=容器名称 镜像名称:标签
</code></pre><p>登陆守护式容器的方式:</p>
<pre><code class="language-aidl" data-lang="aidl">docker exec -it [容器名称|容器id] /bin/bash
</code></pre><h3 id="停止容器">停止容器</h3>
<pre><code class="language-aidl" data-lang="aidl">docker stop [容器名称|容器id]
</code></pre><h3 id="启动容器">启动容器</h3>
<pre><code class="language-aidl" data-lang="aidl">docker start [容器名称|容器id]
</code></pre><h3 id="将文件从宿主机拷贝到docke容器">将文件从宿主机拷贝到docke容器</h3>
<pre><code class="language-aidl" data-lang="aidl">docker cp  文件 [容器名称|容器id]:/usr/local
</code></pre><h3 id="将文件从docke容器拷贝到宿主机">将文件从docke容器拷贝到宿主机</h3>
<pre><code class="language-aidl" data-lang="aidl">docker cp [容器名称|容器id]:文件 文件
# docker cp 44002a55b84c:/usr/local/abc.log abc.log
</code></pre><h3 id="目录挂载">目录挂载</h3>
<p>我们可以在创建容器的时候, 将宿主机的目录与容器内的目录进行映射,这样我们就可以修改宿主机某个目录的文件从而去影响容器.</p>
<p>创建容器添加 -v参数后边为宿主机:容器目录, 例如</p>
<pre><code class="language-aidl" data-lang="aidl">docker run -di -v /usr/local/myhtml:/usr/local/myhtml --name=mycentos3 centos:7
</code></pre><p>如果你共享的是多级目录,可能会出现权限不足的提示.</p>
<p>这是因为Centos7中的安全模块selinux把权限禁掉了,我们需要添加参数 &ndash;privileged=true 来解决挂载目录没有权限的问题</p>
<h3 id="查看容器ip地址">查看容器ip地址</h3>
<p>我们可以通过以下命令查看容器运行的各种数据</p>
<pre><code class="language-aidl" data-lang="aidl">docker inspect 容器名称(容器id)
</code></pre><p>也可以直接执行下面的命令直接输出ip地址</p>
<pre><code class="language-aidl" data-lang="aidl">docker inspect --format='{{.NetworkSettings.IPAddress}}' 容器名称(容器id)
</code></pre><h3 id="删除容器">删除容器</h3>
<pre><code class="language-aidl" data-lang="aidl">docker rm [容器名称|容器id]
# 注意:不能删除一个正在运行的容器
</code></pre></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#镜像相关命令">镜像相关命令</a>
      <ul>
        <li><a href="#查看镜像">查看镜像</a></li>
        <li><a href="#搜索镜像">搜索镜像</a></li>
        <li><a href="#镜像拉取">镜像拉取</a></li>
        <li><a href="#删除镜像">删除镜像</a></li>
      </ul>
    </li>
    <li><a href="#容器相关命令">容器相关命令</a>
      <ul>
        <li><a href="#查看容器">查看容器</a></li>
        <li><a href="#创建与启动容器">创建与启动容器</a></li>
        <li><a href="#停止容器">停止容器</a></li>
        <li><a href="#启动容器">启动容器</a></li>
        <li><a href="#将文件从宿主机拷贝到docke容器">将文件从宿主机拷贝到docke容器</a></li>
        <li><a href="#将文件从docke容器拷贝到宿主机">将文件从docke容器拷贝到宿主机</a></li>
        <li><a href="#目录挂载">目录挂载</a></li>
        <li><a href="#查看容器ip地址">查看容器ip地址</a></li>
        <li><a href="#删除容器">删除容器</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












